<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/fxml" xmlns:fx="http://javafx.com/fxml" fx:controller="com.example.mophongskype.ChatController">
    <top>
        <HBox alignment="CENTER_LEFT" spacing="10.0" style="-fx-background-color: #0078d4; -fx-padding: 10;">
            <Text fx:id="titleText" text="Skype" style="-fx-fill: white; -fx-font-weight: bold; -fx-font-size: 16px;"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label fx:id="statusLabel" text="Online" style="-fx-text-fill: white; -fx-font-size: 12px;"/>
            <Button fx:id="logoutButton" text="ÄÄƒng xuáº¥t"
                    style="-fx-background-color: #d13438; -fx-text-fill: white; -fx-background-radius: 3;"
                    onAction="#handleLogout"/>
        </HBox>
    </top>

    <center>
        <SplitPane dividerPositions="0.3" orientation="HORIZONTAL">
            <!-- Danh sÃ¡ch ngÆ°á»i dÃ¹ng -->
            <VBox spacing="10.0" style="-fx-background-color: #f8f8f8; -fx-padding: 10;">
                <Text text="Danh sÃ¡ch ngÆ°á»i dÃ¹ng" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                <ListView fx:id="userListView" prefHeight="200.0" style="-fx-background-color: white; -fx-border-color: #ddd;"/>
                <HBox spacing="5.0">
                    <Button fx:id="removeUserButton" text="XÃ³a ngÆ°á»i dÃ¹ng"
                            style="-fx-background-color: #d13438; -fx-text-fill: white; -fx-background-radius: 3;"
                            onAction="#handleRemoveUser"/>
                </HBox>
            </VBox>

            <!-- Khu vá»±c chat -->
            <VBox spacing="10.0" style="-fx-padding: 10;">
                <!-- Header cho khu vá»±c chat -->
                <HBox alignment="CENTER_LEFT" spacing="10.0">
                    <Text text="Tin nháº¯n" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="scrollToBottomButton" text="â†“ Cuá»‘i"
                            style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-background-radius: 3; -fx-font-size: 10px;"
                            onAction="#handleScrollToBottom"/>
                </HBox>

                <!-- Khu vá»±c hiá»ƒn thá»‹ tin nháº¯n -->
                <ScrollPane fx:id="chatScrollPane" fitToWidth="true"
                            hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                            style="-fx-background-color: white; -fx-border-color: #ddd; -fx-border-radius: 5;"
                            prefHeight="400.0">
                    <VBox fx:id="chatContainer" spacing="8.0" style="-fx-padding: 15; -fx-background-color: #fafafa;"/>
                </ScrollPane>

                <!-- Khu vá»±c nháº­p tin nháº¯n -->
                <HBox spacing="10.0" alignment="CENTER_LEFT">
                    <TextField fx:id="messageField" promptText="Nháº­p tin nháº¯n..." HBox.hgrow="ALWAYS" onAction="#handleSendMessage"/>
                    <Button fx:id="sendButton" text="Gá»­i"
                            style="-fx-background-color: #0078d4; -fx-text-fill: white; -fx-background-radius: 3;"
                            onAction="#handleSendMessage"/>
                </HBox>

                <!-- Khu vá»±c gá»­i file -->
                <HBox spacing="10.0" alignment="CENTER_LEFT">
                    <Label text="Chá»n file:"/>
                    <Button fx:id="chooseFileButton" text="ðŸ“‚ Chá»n vÃ  Gá»­i file"
                            style="-fx-background-color: #ff9800; -fx-text-fill: white; -fx-background-radius: 3;"
                            onAction="#handleChooseFile"/>
                </HBox>

                <!-- Khu vá»±c tin nháº¯n riÃªng tÆ° -->
                <HBox spacing="10.0" alignment="CENTER_LEFT">
                    <Label text="Gá»­i riÃªng cho:"/>
                    <ComboBox fx:id="privateUserCombo" promptText="Chá»n ngÆ°á»i dÃ¹ng" prefWidth="150.0"/>
                    <TextField fx:id="privateMessageField" promptText="Tin nháº¯n riÃªng..." HBox.hgrow="ALWAYS"/>
                    <Button fx:id="sendPrivateButton" text="Gá»­i riÃªng"
                            style="-fx-background-color: #107c10; -fx-text-fill: white; -fx-background-radius: 3;"
                            onAction="#handleSendPrivateMessage"/>
                </HBox>
                <!-- Khu vá»±c join phÃ²ng -->
                <HBox spacing="10.0" alignment="CENTER_LEFT">
                    <Label text="ID PhÃ²ng:"/>
                    <TextField fx:id="roomIdField" promptText="Nháº­p ID phÃ²ng..." prefWidth="150.0"/>
                    <Button fx:id="joinRoomButton" text="Tham gia phÃ²ng"
                            style="-fx-background-color: #6200EE; -fx-text-fill: white; -fx-background-radius: 3;"
                            onAction="#handleJoinRoom"/>
                </HBox>

            </VBox>
        </SplitPane>
    </center>
</BorderPane>
